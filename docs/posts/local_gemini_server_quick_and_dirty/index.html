<!DOCTYPE html>
<html class="" lang="en-us"><head>
    
        <script>
            if (location.host != new URL("https:\/\/jacmoe.github.io\/").host) location.href = "https:\/\/jacmoe.github.io\/"
        </script>
    
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=7" />

    <link
    rel="icon"
    href='/favicon.png'
/>
<link
    rel="shortcut icon"
    href='/favicon.ico'
    type="image/x-icon"
/>
<link
    rel="apple-touch-icon"
    href='/apple-touch-icon.png'
/>

    <link
        rel="icon"
        href='/android-chrome-512x512.png'
        type="image/svg+xml"
    />

<title>
        
            Local Gemini Server - Quick and Dirty  &ndash;
        
        Jacmoe&#39;s Cyber Soapbox
    </title>

    
    <link href="/symbols-nerd-font/symbols-nerd-font.css" rel="stylesheet" integrity="sha512-lydow8GLOLlYNOtHlksNCmGWWCBsbIEtikXpHzfWqx78HLlyQZHOzyLwPpKol4Th6aCwLUXOfODVYgwrd3nwKQ=="/>
    <link href="/jetbrains-mono/jetbrains-mono.css" rel="stylesheet" integrity="sha512-tJxlgL6v1Y7kFf+qB8SloaAMKnOAw6WouknxXtIjkBux9Y/9aX81EUWOJO8c/3l98DmjG8brr4to7zaez606Fg=="/>

    
        <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
    
    
    <link type="text/css" rel="stylesheet" href=https://jacmoe.github.io/css/styles.970acee2c932530c4efc742c2824e28fbb2ee420a4eed1662c6361e2317f142d7a545214cf82396dbe22df30f76829a69836350fc3a622c370f74dc039341fce.css integrity="sha512-lwrO4skyUwxO/HQsKCTij7su5CCk7tFmLGNh4jF/FC16VFIUz4I5bb4i3zD3aCmmmDY1D8OmIsNw903AOTQfzg==" />
<style type = text/css>
  .underline {text-decoration:underline}

 .gallery {
display: flex;
flex-wrap: wrap;
flex-direction: row;
align-items: center;
justify-content: center;
 }

.galleryimg {
padding:0 10px 10px;
}
@import url('https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;1,400&display=swap');
</style>
<link rel="stylesheet" href="https://jacmoe.github.io//css/justifiedGallery.min.css">
<link rel="stylesheet" href="https://jacmoe.github.io//css/swipebox.min.css">
<link rel="me" value="https://writing.exchange/@jacmoe" />
<meta name="author" content="Jacob Moena" />

    
        <meta name="keywords" content='gemini' />
    
    
        <meta name="description" content="This is a quick guide to get a local Gemini server up and running. Useful when you are authoring a Gemini capsule and want to test it before pushing it to a server accessible to the world." />
    

<meta property="og:site_name"
    content='Jacmoe&#39;s Cyber Soapbox' />

    <meta property="og:title" content="Local Gemini Server - Quick and Dirty" />
    <meta property="og:type" content="article" />
    
    <meta
        property="article:author" content="Jacob Moena" />
    <meta
        property="article:published_time"
        content='2023-03-14T14:22:00Z&#43;0100' />
    
        
            <meta property="article:tag" content="gemini" />
        
    
    <meta property="og:url" content="https://jacmoe.github.io/posts/local_gemini_server_quick_and_dirty/" />
    
    
    <meta property="og:image"
        content="https://jacmoe.github.io/android-chrome-512x512.png" />
    
        <meta property="og:description" content="This is a quick guide to get a local Gemini server up and running. Useful when you are authoring a Gemini capsule and want to test it before pushing it to a server accessible to the world." />
    

<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:domain"
      content='jacmoe.github.io'
/>
<meta property="twitter:url" content="https://jacmoe.github.io/posts/local_gemini_server_quick_and_dirty/" />


    <meta name="twitter:title" content="Local Gemini Server - Quick and Dirty" />
    
    
    
    <meta name="twitter:image"
        content="https://jacmoe.github.io/android-chrome-512x512.png" />
    
        <meta name="twitter:description" content="This is a quick guide to get a local Gemini server up and running. Useful when you are authoring a Gemini capsule and want to test it before pushing it to a server accessible to the world." />
    

<link rel="manifest" href="/manifest/index.json" />
</head>


<body>
        <div id="baseContainer"><header class="">
<div class="titleAndSearchContainer">
        <div id="titleContainer">
            
                <a class="unstyledLink" href="/">
                    <img src='/android-chrome-512x512.png' alt='Logo'/>
                </a>
            
            <div class="rightOfLogo">
                <div class="titleAndHamburger">
                    <h1>
                        <a class="unstyledLink" href="/">Jacmoe&#39;s Cyber Soapbox</a>
                        
                    </h1>
                    
                </div>
                <div id="wide_nav"><nav>
    
    <ul id="main-nav">
        <li><a href="/">Home</a></li>
        
            <li><a href="/posts">Posts</a></li>
        
        
        
        
        
        
        
            <li><a href="/tags">Tags</a></li>
        
        
            <li><a href="/search">Search</a></li>
        
    </ul>
</nav>
</div>
            </div>
        </div>
        
    </div>
    <div id="links">
        <a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="/index.xml">
    
    
        &#xf09e;
    
    <span>
        RSS
    </span>
</a>

        
        <a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="https://github.com/jacmoe">
    
    
        &#xf09b;
    
    <span>
        Github
    </span>
</a>
<a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="https://x.com/JacmoeDK/">
    
    
        X
    
    <span>
        X
    </span>
</a>
<a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="https://bsky.app/profile/jacmoe.bsky.social">
    
    
        <?xml version='1.0' encoding='UTF-8' standalone='yes'?><svg width='16' height='16' xmlns='http://www.w3.org/2000/svg' version='1.1'><rect width='16' height='16' fill='#fff'/></svg>
    
    <span>
        BlueSky
    </span>
</a>
<a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="https://facebook.com/jacmoe/">
    
    
        &#xf09a;
    
    <span>
        Facebook
    </span>
</a>
<a
    
        rel="me"
    
    target="_blank"
    class="nerdlink"
    href="https://writing.exchange/@jacmoe">
    
    
        <svg class='pseudofont' xmlns:svg='http://www.w3.org/2000/svg' width='16' height='16' viewbox='0 0 16 16'><path d='M 7.4779094,-1.598624e-6 C 5.5602384,0.0156984 3.7155894,0.2233384 2.6405814,0.7170384 c 0,0 -2.13206093,0.9537 -2.13206093,4.20766 0,0.74512 -0.01448,1.63603 0.0091,2.58084 0.07742,3.1821946 0.58336693,6.3183886 3.52553593,7.0971276 1.356568,0.359063 2.521335,0.434289 3.45936,0.382729 1.701085,-0.09431 2.6560206,-0.607063 2.6560206,-0.607063 l -0.05611,-1.234252 c 0,0 -1.2156316,0.383272 -2.5808476,0.33656 -1.352609,-0.04639 -2.780561,-0.145832 -2.999328,-1.80651 -0.0202,-0.145872 -0.03031,-0.301902 -0.03031,-0.465714 0,-10e-7 1.327834,0.324572 3.010574,0.40167 1.028943,0.0472 1.993827,-0.06028 2.9738766,-0.177218 1.879445,-0.224425 3.515901,-1.382448 3.721577,-2.4405646 0.32407,-1.666815 0.297376,-4.067605 0.297376,-4.067605 0,-3.25396 -2.131943,-4.20766 -2.131943,-4.20766 C 11.288476,0.2233384 9.4426784,0.0156784 7.5250084,-1.598624e-6 Z M 5.3076104,2.5424984 c 0.798781,0 1.403595,0.30701 1.803551,0.92113 l 0.388886,0.65181 0.388884,-0.65181 c 0.399875,-0.61412 1.00469,-0.92113 1.803551,-0.92113 0.6903266,0 1.2465526,0.24267 1.6713186,0.71609 0.411755,0.47342 0.61677,1.11337 0.61677,1.91862 v 3.939988 h -1.560986 v -3.824218 c 0,-0.80613 -0.339166,-1.21531 -1.0176126,-1.21531 -0.750129,0 -1.126049,0.48533 -1.126049,1.44509 v 2.09324 h -1.551753 v -2.09324 c 0,-0.95976 -0.376039,-1.44509 -1.126168,-1.44509 -0.678446,0 -1.017613,0.40918 -1.017613,1.21531 v 3.824218 h -1.560985 v -3.939988 c 0,-0.80525 0.205053,-1.4452 0.616889,-1.91862 0.424685,-0.47342 0.980911,-0.71609 1.671317,-0.71609 z' /></svg>
    
    <span>
        Mastodon
    </span>
</a>
<a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="https://www.reddit.com/user/jacmoe">
    
    
        &#xf281;
    
    <span>
        Reddit
    </span>
</a>
<a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="https://tilde.team/~jacmoe/">
    
    
        Gemini
    
    <span>
        Gemini
    </span>
</a>

    </div>
    
        <div id="sidebar_nav"><nav>
    
    <ul id="main-nav">
        <li><a href="/">Home</a></li>
        
            <li><a href="/posts">Posts</a></li>
        
        
        
        
        
        
        
            <li><a href="/tags">Tags</a></li>
        
        
            <li><a href="/search">Search</a></li>
        
    </ul>
</nav>
</div>
        
    

</header>
<div id="contentContainer">
                <div id="content">
                    <main>
<article class="card single">
    
        <h1>Local Gemini Server - Quick and Dirty</h1>
    
    
        <p class="date">
            <span title='Date'> </span>
    Tuesday, Mar 14, 2023

</p>
    
    
    
    <div><p>If you, like me, are excited about <a href="https://gemini.circumlunar.space/">Project Gemini</a> and want to create your own capsule (Gemini site), you will probably wonder how you would test your capsule on your local machine before putting it out there.</p>
<p>This small (and dirty!) guide aims to remove that doubt.</p>
<p>So, without further dillydally, here goes:</p>
<p>Install <a href="https://pypi.org/project/gmcapsule/">GmCapsule</a> by running the following command, assuming that Python is installed:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install gmcapsule
</span></span></code></pre></div><p>Now, create a <code>.gmcapsulerc</code> file in your home directory, with the following content:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff79c6">[</span>static<span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">root</span> <span style="color:#ff79c6">=</span> /home/moena/gemini/capsule/
</span></span></code></pre></div><p><code>root</code> should point to where the Gemini files are to be served from.</p>
<p>Notice that the server name is appended to the path above, which means that the real path to the <code>index.gmi</code> file for the root of the site is located in <code>/home/moena/gemini/capsule/localhost</code>.</p>
<p>Now we need to create a server certificate and the corresponding key.</p>
<p>Create a directory called <code>.certs</code> in your home directory, cd into it, and run the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>openssl req -new -x509 -days <span style="color:#bd93f9">365</span> -nodes -out cert.pem -keyout key.pem -subj <span style="color:#f1fa8c">&#34;/CN=localhost&#34;</span> -newkey rsa:4096 -addext <span style="color:#f1fa8c">&#34;subjectAltName = DNS:localhost&#34;</span>
</span></span></code></pre></div><p>The <code>.certs</code> directory should now contain two files, <code>cert.pem</code> and <code>key.pem</code>. The GmCapsule server loads the certificate upon startup.</p>
<p>Now, start the server by running:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gmcapsuled
</span></span></code></pre></div><p>Use a Gemini client, like <code>amfora</code> to browse your local Gemini capsule:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>amfora gemini://localhost/
</span></span></code></pre></div><p>Now, enjoy creating content for Gemini!</p>
<p>I am excited about the whole idea of the small internet, and the syntax for the <code>.gmi</code> files are so simple, much simpler than even Markdown. I like not having to mess around with HTML, CSS, Javascript, fonts &hellip; Just plain text.</p>
<p>I will probably be writing more about Gemini in the future ☺</p>
<p><em>PS: you might have to open port 1965 if you are running a firewall.</em></p>
</div>
</article>

    <hr />
    <p class="articleTagsContainer">
        <span> </span>
        <strong>Tags:</strong>
        
            <a
                
                href="/tags/gemini">#gemini</a>
        
    </p>


    <a style="margin-bottom: 24px; display: inline-block;" class="shareBtn" onclick="openFediInstanceDialog();">
        Share on the Fediverse
    </a>
    <div id="fediInstanceDialog">
        <div class="bg" onclick="closeFediInstanceDialog();"></div>
        <div class="dialog">
            <h2>Enter your instance&#39;s address</h2>
            <input id="fediInstanceInput" placeholder='Eg. mastodon.social' type="text" />
            <div class="buttons">
                <a class="shareBtn" onclick="closeFediInstanceDialog();">Cancel</a>
                <a class="shareBtn" onclick="shareOnFedi();">Share</a>
            </div>
        </div>
    </div>
    <script>
        var articleTitle = 'Local Gemini Server - Quick and Dirty';
        var articleLink = 'https:\/\/jacmoe.github.io\/posts\/local_gemini_server_quick_and_dirty\/';
        var fediInstanceDialog = document.getElementById('fediInstanceDialog');
        var fediInstanceInput = document.getElementById('fediInstanceInput');
        function openFediInstanceDialog() {
            fediInstanceDialog.classList.add('open');
        }
        function closeFediInstanceDialog() {
            fediInstanceDialog.classList.remove('open');
        }
        function fixURL(url) {
            if (url.substr(0, 8) == 'https://') return url;
            if (url.substr(0, 7) == 'http://') return url;
            return 'https://' + url;
        }
        function shareOnFedi() {
            let instance = fediInstanceInput.value.trim();
            if (!instance) {
                return;
            }
            instance = fixURL(instance);
            window.open(
                `${instance}/share?text=${articleTitle}%20${articleLink}`,
                '__blank'
            );
            closeFediInstanceDialog();
        }
    </script>



<script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>

<div id="ficurinia-cactus-comments"></div>

<script>
initComments({
    node: document.getElementById("ficurinia-cactus-comments"),
    defaultHomeserverUrl: 'https:\/\/matrix.cactus.chat:8448',
    serverName: 'cactus.chat',
    siteName: "jacmoe.github.io",
    commentSectionId: "3df30ad8edc9e7b050c6f28adb6d219e"
})
</script>



                    </main><footer>
    <hr />

<p><small>
        2023 &copy; Jacob Moena - <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
    </small></p>
    <p><small>
        <a href='https://gitlab.com/gabmus/hugo-ficurinia'>Ficurinia theme</a> for <a href='https://gohugo.io'>Hugo</a> by <a href='https://gabmus.org'>Gabriele Musco</a>. Licensed under <a href='https://www.gnu.org/licenses/agpl-3.0.html'>GNU AGPLv3</a>.
    </small></p>
</footer>
</div>
            </div>
        </div>


<link rel="me" value="https://writing.exchange/@jacmoe" />
<script src="https://jacmoe.github.io//js/jquery-3.5.1.min.js"></script>
<script src="https://jacmoe.github.io//js/jquery.justifiedGallery.min.js"></script>
<script src="https://jacmoe.github.io//js/jquery.swipebox.min.js"></script>
<script type="text/javascript">
$( document ).ready(function() {
    $("#gallery").justifiedGallery().on('jg.complete', function () {
        $( '.swipebox' ).swipebox();
});
    $( '.swipebox' ).swipebox();
} );
</script>
</body>
</html>
